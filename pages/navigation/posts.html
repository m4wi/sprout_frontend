<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publicaciones - GreenPoints</title>

    <!-- SEO Meta Tags -->
    <meta name="description"
        content="Explora el feed de actividad, descubre nuevos puntos de reciclaje compartidos por la comunidad y participa en la iniciativa GreenPoints.">
    <meta name="keywords" content="publicaciones, feed, comunidad, reciclaje, greenpoints, tacna, participación">
    <meta name="author" content="GreenPoints Team">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#22c55e">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://greenpoints.app/publicaciones">
    <meta property="og:title" content="Publicaciones - GreenPoints">
    <meta property="og:description"
        content="Descubre nuevos puntos de reciclaje y únete a la conversación en GreenPoints.">
    <meta property="og:image" content="https://greenpoints.app/assets/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://greenpoints.app/publicaciones">
    <meta property="twitter:title" content="Publicaciones - GreenPoints">
    <meta property="twitter:description"
        content="Descubre nuevos puntos de reciclaje y únete a la conversación en GreenPoints.">
    <meta property="twitter:image" content="https://greenpoints.app/assets/og-image.jpg">

    <link rel="shortcut icon" href="/assets/favicon.webp" type="image/x-icon">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/posts.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <img src="/assets/images/raya.webp" alt="raya background doodle" class="background-doodle">
    <img src="/assets/images/child/child_1_1.webp" alt="child_1_1" class="background-child-doodle">
    <header>
        <div class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path fill="currentColor"
                    d="M11.25 22q-.825 0-1.662-.187t-1.713-.538q.3-3.025 1.75-5.65T13.35 11q-2.75 1.4-4.762 3.7t-2.813 5.25q-.1-.075-.187-.162L5.4 19.6q-1.175-1.175-1.787-2.625T3 13.95q0-1.7.675-3.25T5.55 7.95Q7.3 6.2 9.888 5.5t6.987-.5q.65.025 1.2.288t.975.687t.675.988t.3 1.212q.15 4.5-.525 7.025t-2.4 4.25q-1.225 1.225-2.738 1.888T11.25 22" />
            </svg>
            GREENPOINTS TACNA
        </div>

        <button class="mobile-menu-btn">☰</button>

        <nav>
            <ul class="nav-menu">
                <li><a href="/pages/navigation/start.html"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                            height="24" viewBox="0 0 24 24">
                            <path fill="currentColor"
                                d="M6 20q-.825 0-1.412-.587T4 18v-7.375L3 11.4q-.325.25-.737.2t-.663-.4q-.25-.325-.187-.725t.387-.65l9-6.9q.275-.2.588-.3t.637-.1t.625.1t.575.3L20.7 8.65q.475.35.238.9t-.813.475q-.65-.075-1.312.013t-1.313.337q-1.5-.575-3.088-.262t-2.787 1.512t-1.513 2.788t.263 3.087q-.15.4-.25.8t-.125.825q-.025.35-.262.613T9.15 20zm11.5 2.375q-1.05.725-2.312.613t-2.163-1.013t-1.012-2.162t.612-2.313q-.725-1.05-.612-2.312t1.012-2.163t2.163-1.012t2.312.612q1.05-.725 2.313-.612t2.162 1.012t1.013 2.163t-.613 2.312q.725 1.05.613 2.313t-1.013 2.162t-2.162 1.013t-2.313-.613m0-3.625q.525 0 .888-.363t.362-.887t-.363-.888t-.887-.362t-.888.363t-.362.887t.363.888t.887.362" />
                        </svg> INICIO</a></li>
                <li><a href="/pages/navigation/posts.html"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                            height="24" viewBox="0 0 24 24">
                            <path fill="currentColor"
                                d="M12 21.5q-1.975 0-3.7-.75t-3.012-2.037T3.25 15.7T2.5 12t.75-3.7t2.038-3.012T8.3 3.25T12 2.5V1.2q0-.35.3-.475t.55.125L15.3 3.3q.3.3.3.7t-.3.7l-2.45 2.45q-.25.25-.55.125T12 6.8V5.5q-2.7 0-4.6 1.9T5.5 12q0 1.65.762 3.063T8.3 17.35q.4-.7 1.188-1.187t1.812-.613q-.075-.525-.2-1.05t-.3-.975q-.275.225-.6.35T9.5 14q-.825 0-1.412-.587T7.5 12v-1q0-.2-.038-.387t-.087-.363q-.125-.275.038-.513t.437-.212q1.125.05 2.375.55T11.5 12q0 .225-.037.413t-.138.387q-.325-.25-.65-.45T10 12q.425.325.975 1T12 14.6q.5-1.225 1.25-2.412T15 10q-.575.4-1.1.85t-1.025.95q-.175-.275-.275-.612t-.1-.688q0-1.05.725-1.775T15 8h1q.35 0 .738-.088t.662-.337q.175-.175.4-.088t.225.338q0 .625-.087 1.513t-.4 1.7t-.913 1.387T15 13q-.375 0-.712-.1t-.613-.275q-.175.475-.4 1.263t-.35 1.687q.95.175 1.675.65t1.1 1.125q1.05-.725 1.75-1.8t.95-2.375q.125-.625.563-1.05T20 11.7q.65 0 1.088.463t.337 1.087q-.45 3.525-3.113 5.888T12 21.5" />
                        </svg> PUBLICACIONES</a></li>
                <li><a href="/pages/navigation/book.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                            viewBox="0 0 24 24">
                            <path fill="currentColor"
                                d="M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v4.675q0 .425-.288.713t-.712.287t-.712-.288t-.288-.712V10H5v10h5.8q.425 0 .713.288T11.8 21t-.288.713T10.8 22zm13 1q-2.075 0-3.537-1.463T13 18t1.463-3.537T18 13t3.538 1.463T23 18t-1.463 3.538T18 23m.5-5.2v-2.3q0-.2-.15-.35T18 15t-.35.15t-.15.35v2.275q0 .2.075.388t.225.337l1.525 1.525q.15.15.35.15t.35-.15t.15-.35t-.15-.35z" />
                        </svg> RESERVAS</a></li>
                <li><a href="/pages/navigation/profile.html"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                            height="24" viewBox="0 0 24 24">
                            <path fill="currentColor"
                                d="M4.625 22q-.425 0-.737-.312t-.313-.738v-2.625q0-2.25 1.4-3.975t3.6-2.2q-1 .7-1.55 1.762t-.55 2.288v4.75q0 .275.075.55t.25.5zM8.3 22q-.425 0-.737-.312t-.313-.738V16.2q0-1.75 1.238-2.975T11.475 12H16.2q1.75 0 2.975 1.225T20.4 16.2v1.6q0 1.75-1.225 2.975T16.2 22zM12 9.9q-1.65 0-2.8-1.15t-1.15-2.8t1.15-2.8T12 2t2.8 1.15t1.15 2.8t-1.15 2.8T12 9.9" />
                        </svg> PERFIL</a></li>
            </ul>
        </nav>
    </header>
    <main id="mainContainer">
        <section>
            <div class="filter-bar">
                <button class="filter-btn active" data-filter="all">Todos</button>
                <button class="filter-btn" data-filter="mine">Mis publicaciones</button>
            </div>
        </section>
        <section id="feedSection">
            <div id="feedContainer" class="feed"></div>
        </section>
        <section id="chatSection">
            <div id="chatContainer" class="chatbox">
                <div class="chat-header">
                    <div class="chat-user">
                        <img id="chatAvatar" class="avatar" src="" alt="">
                        <div>
                            <div id="chatUsername" class="username"></div>
                            <div id="chatSubtitle" class="subtitle"></div>
                        </div>
                    </div>
                </div>
                <div id="chatMessages" class="chat-messages"></div>
                <div class="chat-input">
                    <input id="chatMessageInput" type="text" placeholder="Escribe un mensaje">
                    <button id="chatSendBtn">Enviar</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal for Materials -->
    <div id="materialModal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Agregar Material</h3>
            <div class="form-group">
                <label>Cantidad</label>
                <input type="number" id="matQuantity" step="0.001" required>
            </div>
            <div class="form-group">
                <label>Unidad</label>
                <select id="matUnit" style="padding: 0.75rem; border-radius: 12px; border: 2px solid #e8f5e9;">
                    <option value="kg">Kg</option>
                    <option value="unit">Unidad</option>
                    <option value="lt">Litros</option>
                </select>
            </div>
            <div class="form-group">
                <label>Descripción</label>
                <input type="text" id="matDescription" placeholder="Detalles del material">
            </div>
            <button type="button" id="btnSaveMaterial" class="primary-btn">Guardar Material</button>
        </div>
    </div>

    <!-- Report Modal -->
    <div id="reportModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-modal" id="closeReportModal">&times;</span>
            <h3>Reportar Publicación</h3>
            <form id="reportForm">
                <input type="hidden" id="reportGreenpointId">
                <div class="form-group">
                    <label for="reportType">Tipo de Problema</label>
                    <select id="reportType" required
                        style="padding: 0.75rem; border-radius: 12px; border: 1px solid rgba(0,0,0,0.1); background: rgba(255,255,255,0.5);">
                        <option value="spam">Spam</option>
                        <option value="inappropriate">Contenido Inapropiado</option>
                        <option value="fake">Información Falsa</option>
                        <option value="other">Otro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reportMessage">Descripción</label>
                    <textarea id="reportMessage" rows="4" placeholder="Describe el problema..." required
                        style="padding: 0.75rem; border-radius: 12px; border: 1px solid rgba(0,0,0,0.1); background: rgba(255,255,255,0.5); resize: vertical; font-family: inherit;"></textarea>
                </div>
                <button type="submit" class="submit-btn" style="background: #ef4444; color: white;">Enviar
                    Reporte</button>
            </form>
        </div>
    </div>

    <!-- Map Modal -->
    <div id="mapModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3>Seleccionar Ubicación</h3>
            <div id="formMapContainer" style="height: 400px; width: 100%;"></div>
            <div class="modal-actions">
                <button id="cancelMapBtn" class="secondary-btn">Cancelar</button>
                <button id="confirmMapBtn" class="submit-btn">Confirmar Ubicación</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    <script type="module" src="/js/pages/posts.js"></script>
    <footer>
        <p class="info">© 2025 GreenPoints. Todos los derechos reservados.</p>
        <nav class="links">
            <a href="/about">Acerca</a>
            <a href="/contact">Contacto</a>
            <a href="/privacy">Privacidad</a>
        </nav>
        </div>
    </footer>
</body>

</html>